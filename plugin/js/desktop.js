(()=>{"use strict";const e=["app.record.index.edit.show","app.record.create.show","app.record.edit.show","mobile.app.record.index.edit.show","mobile.app.record.create.show","mobile.app.record.edit.show"],r=["app.record.index.edit.submit","app.record.create.submit","app.record.edit.submit","mobile.app.record.index.edit.submit","mobile.app.record.create.submit","mobile.app.record.edit.submit"],t=e=>{const r=e.getFullYear(),t=e.getMonth(),o=e.getDate(),c=new Date,s=c.getFullYear(),n=c.getMonth(),i=c.getDate(),d=s-r;return n>t||n===t&&i>=o?d:d-1};(o=>{let c={};const s=(e=>{const r=kintone.plugin.app.getConfig(e);return Object.keys(r).reduce(((e,t)=>(e[t]=JSON.parse(r[t]),e)),{})})(o);Object.keys(s).length&&(kintone.events.on(e,(e=>{try{c={};for(const r of s.rows)c[r.src]=e.record[r.src].value,e.record[r.dst].disabled=!0}catch(r){e.error="プラグイン「年齢自動計算プラグイン」の処理実行時にエラーが発生しました",console.error("エラー(年齢自動計算プラグイン)",r)}return e})),kintone.events.on(r,(e=>{try{for(const r of s.rows)if(r.updates||e.record[r.src].value!==c[r.src]){const o=e.record[r.src].value;if(!o){e.record[r.dst].value="";continue}const c=t(new Date(o));e.record[r.dst].value=isFinite(c)?c:NaN}}catch(r){e.error="プラグイン「年齢自動計算プラグイン」の処理実行時にエラーが発生しました",console.error("エラー(年齢自動計算プラグイン)",r)}return e})))})(kintone.$PLUGIN_ID)})();